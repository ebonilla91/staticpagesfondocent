import{a as C}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-VJFGZNCN.js";import{a as b,g as _}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-XOCVWU26.js";import{a as h,b as M}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-OZHM55CV.js";import{b as w}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-HDRT62RD.js";import{F as p,G as d,H as m,J as g}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-BPJUKUAP.js";import{a as V}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-WSIFDYHJ.js";import{b as r,c as x}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-OAY73AJW.js";import{a as f,d as l}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-IDSWT3EJ.js";function $({thumbnailMode:e,thumbnailUrl:o,loop:a,videoUrl:i,playing:c,onLoaded:v,onPlay:B}){let s=(0,t.useRef)(null),n=e===!0,[u,P]=(0,t.useState)(!(h.isSafari()&&!n));return(0,t.useEffect)(()=>{c?(s.current?.play(),u||setTimeout(()=>P(!0),500)):s.current?.pause()},[c]),m(p,{children:[d(L,{ref:s,width:"100%",height:"100%",controls:!1,loop:!n&&a,muted:!0,playsInline:!n,poster:o,objectFit:"cover",onPlay:!n&&u?B:void 0,onLoadedMetadata:n?void 0:v,opacity:u?1:0,children:!n&&i?d("source",{src:i,type:"video/mp4"}):null}),!u&&d(k.default,{src:o,width:"100%",height:"100%",position:"absolute",left:0,objectFit:"cover"})]})}function A(e){let{model:o}=(0,t.useContext)(b);return d($,{...e,...o})}var y,k,t,L,E=f(()=>{"use strict";y=l(w()),k=l(C()),t=l(V());M();_();g();L=y.Box.withComponent("video")});function I(){let e=window.RM.config?.root;return!e||e==="/"?"":e.slice(-1)!=="/"?e+"/":e}function S(e){if(e.provider_name!=="self")return null;if(!r.readymag_videos_cdn)throw new Error("Videos CDN URL is not exists");let{isDownloadedSource:o=!1,homepageRewrite:a=!1}=typeof window<"u"?window.RM?.common||{}:{};if(o&&!a){let i=I();return{video:`${i}${e.url}`,thumbnail:`${i}${e.thumbnail_url}`}}return{video:`${r.readymag_videos_cdn}/${e.url}`,thumbnail:`${r.readymag_videos_cdn}/${e.thumbnail_url}`}}function z(e){return e?e.type!=="video/mp4"?"We support only .mp4 format":e.size>r.VIDEOS_UPLOAD_SIZE_LIMT?`Video file size must be less than ${Math.floor(r.VIDEOS_UPLOAD_SIZE_LIMT/1024/1024)} mb`:null:"No suitable file to upload. Please use video file."}function D(e){return!!(e&&e.provider_name==="self")}function H(e){let o=e?.video;if(o)return D(o)?S(o)?.thumbnail:o.thumbnail_url}var T=f(()=>{"use strict";x()});export{$ as a,A as b,E as c,S as d,z as e,D as f,H as g,T as h};
