import{a as g,b as I,c as C}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-MN6BXSV7.js";import{c as n,d as H}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-UMA5LGPS.js";import{b as R,e as y,f as v}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-ULGKTEVY.js";import{b as D}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-HDRT62RD.js";import{G as p,J as P}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-BPJUKUAP.js";import{a as L}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-WSIFDYHJ.js";import{d as s}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-IDSWT3EJ.js";var b=s(D());C();var h=s(L());R();v();var a=s(L());H();function k({interactions:o,player:t,sharedState:c}){let{clickCount:d,isPlayerReady:f,isPointerIn:l,isPointerDown:m,hoverPercent:u}=y(c);(0,a.useEffect)(()=>{let e=n(o,"click");e&&(d%2?t.play({range:e.range,loop:e.loop,direction:e.direction,speed:e.speed}):t.pause())},[o,d,t]),(0,a.useEffect)(()=>{let e,i=n(o,"load");if(i){if(f){let r=typeof i.delay=="number"?i.delay*1e3:0;e=setTimeout(()=>{t.play({range:i.range,loop:i.loop,direction:i.direction,speed:i.speed})},r)}return()=>clearTimeout(e)}},[o,f,t]),(0,a.useEffect)(()=>{let e=n(o,"hover");e&&(l?t.play({range:e.range,loop:e.loop,direction:e.direction,speed:e.speed}):t.pause())},[o,l,t]),(0,a.useEffect)(()=>{let e=n(o,"hold");if(!e)return;let i=e.direction||1,r=-i;m?t.play({range:e.range,loop:e.loop,speed:e.speed,direction:i}):t.setPlaybackOptions({loop:!1,direction:r})},[o,m,t]),(0,a.useEffect)(()=>{let e=n(o,"cursor");if(!e)return;let i=e.range||[0,t.state.totalFrames],r=i[0],w=i[1],x=Math.max(w-r,0)*(u||0)+r;t.seek(x)},[o,u,t])}P();var S=[];function T({widget:o,sharedState:t}){let c=(0,h.useRef)(new g).current;return k({interactions:o.interactions||S,player:c,sharedState:t}),p(b.Box,{width:"100%",height:"100%",pointerEvents:"none",children:p(I,{uri:o.uri,player:c,onReady:()=>{t.isPlayerReady=!0}})})}var J=T;export{T as a,J as b};
