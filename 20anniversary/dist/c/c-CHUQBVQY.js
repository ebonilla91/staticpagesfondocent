import{a as xt}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-TUZJEMYY.js";import{b as yt}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-IDSWT3EJ.js";var mt=yt((Z,B)=>{"use strict";(function(){var x=typeof self=="object"&&self.self===self&&self||typeof window=="object"&&window.global===window&&window||this||{},o=x._,f=Array.prototype,P=Object.prototype,$=typeof Symbol<"u"?Symbol.prototype:null,z=f.push,g=f.slice,N=P.toString,I=P.hasOwnProperty,T=Array.isArray,k=Object.keys,b=Object.create,q=function(){},i=function(t){if(t instanceof i)return t;if(!(this instanceof i))return new i(t);this._wrapped=t};typeof Z<"u"&&!Z.nodeType?(typeof B<"u"&&!B.nodeType&&B.exports&&(Z=B.exports=i),Z._=i):x._=i,i.VERSION="1.9.1";var H=function(t,e,r){if(e===void 0)return t;switch(r??3){case 1:return function(n){return t.call(e,n)};case 3:return function(n,s,u){return t.call(e,n,s,u)};case 4:return function(n,s,u,a){return t.call(e,n,s,u,a)}}return function(){return t.apply(e,arguments)}},W,p=function(t,e,r){return i.iteratee!==W?i.iteratee(t,e):t==null?i.identity:i.isFunction(t)?H(t,e,r):i.isObject(t)&&!i.isArray(t)?i.matcher(t):i.property(t)};i.iteratee=W=function(t,e){return p(t,e,1/0)};var y=function(t,e){return e=e==null?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),s=0;s<r;s++)n[s]=arguments[s+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var u=Array(e+1);for(s=0;s<e;s++)u[s]=arguments[s];return u[e]=n,t.apply(this,u)}},C=function(t){if(!i.isObject(t))return{};if(b)return b(t);q.prototype=t;var e=new q;return q.prototype=null,e},j=function(t){return function(e){return e?.[t]}},O=function(t,e){return t!=null&&I.call(t,e)},L=function(t,e){for(var r=e.length,n=0;n<r;n++){if(t==null)return;t=t[e[n]]}return r?t:void 0},J=Math.pow(2,53)-1,_=j("length"),w=function(t){var e=_(t);return typeof e=="number"&&e>=0&&e<=J};i.each=i.forEach=function(t,e,r){e=H(e,r);var n,s;if(w(t))for(n=0,s=t.length;n<s;n++)e(t[n],n,t);else{var u=i.keys(t);for(n=0,s=u.length;n<s;n++)e(t[u[n]],u[n],t)}return t},i.map=i.collect=function(t,e,r){e=p(e,r);for(var n=!w(t)&&i.keys(t),s=(n||t).length,u=Array(s),a=0;a<s;a++){var l=n?n[a]:a;u[a]=e(t[l],l,t)}return u};var G=function(t){var e=function(r,n,s,u){var a=!w(r)&&i.keys(r),l=(a||r).length,h=t>0?0:l-1;for(u||(s=r[a?a[h]:h],h+=t);h>=0&&h<l;h+=t){var c=a?a[h]:h;s=n(s,r[c],c,r)}return s};return function(r,n,s,u){var a=arguments.length>=3;return e(r,H(n,u,4),s,a)}};i.reduce=i.foldl=i.inject=G(1),i.reduceRight=i.foldr=G(-1),i.find=i.detect=function(t,e,r){var n=w(t)?i.findIndex:i.findKey,s=n(t,e,r);if(s!==void 0&&s!==-1)return t[s]},i.filter=i.select=function(t,e,r){var n=[];return e=p(e,r),i.each(t,function(s,u,a){e(s,u,a)&&n.push(s)}),n},i.reject=function(t,e,r){return i.filter(t,i.negate(p(e)),r)},i.every=i.all=function(t,e,r){e=p(e,r);for(var n=!w(t)&&i.keys(t),s=(n||t).length,u=0;u<s;u++){var a=n?n[u]:u;if(!e(t[a],a,t))return!1}return!0},i.some=i.any=function(t,e,r){e=p(e,r);for(var n=!w(t)&&i.keys(t),s=(n||t).length,u=0;u<s;u++){var a=n?n[u]:u;if(e(t[a],a,t))return!0}return!1},i.contains=i.includes=i.include=function(t,e,r,n){return w(t)||(t=i.values(t)),(typeof r!="number"||n)&&(r=0),i.indexOf(t,e,r)>=0},i.invoke=y(function(t,e,r){var n,s;return i.isFunction(e)?s=e:i.isArray(e)&&(n=e.slice(0,-1),e=e[e.length-1]),i.map(t,function(u){var a=s;if(!a){if(n&&n.length&&(u=L(u,n)),u==null)return;a=u[e]}return a==null?a:a.apply(u,r)})}),i.pluck=function(t,e){return i.map(t,i.property(e))},i.where=function(t,e){return i.filter(t,i.matcher(e))},i.findWhere=function(t,e){return i.find(t,i.matcher(e))},i.max=function(t,e,r){var n=-1/0,s=-1/0,u,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=w(t)?t:i.values(t);for(var l=0,h=t.length;l<h;l++)u=t[l],u!=null&&u>n&&(n=u)}else e=p(e,r),i.each(t,function(c,d,v){a=e(c,d,v),(a>s||a===-1/0&&n===-1/0)&&(n=c,s=a)});return n},i.min=function(t,e,r){var n=1/0,s=1/0,u,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=w(t)?t:i.values(t);for(var l=0,h=t.length;l<h;l++)u=t[l],u!=null&&u<n&&(n=u)}else e=p(e,r),i.each(t,function(c,d,v){a=e(c,d,v),(a<s||a===1/0&&n===1/0)&&(n=c,s=a)});return n},i.shuffle=function(t){return i.sample(t,1/0)},i.sample=function(t,e,r){if(e==null||r)return w(t)||(t=i.values(t)),t[i.random(t.length-1)];var n=w(t)?i.clone(t):i.values(t),s=_(n);e=Math.max(Math.min(e,s),0);for(var u=s-1,a=0;a<e;a++){var l=i.random(a,u),h=n[a];n[a]=n[l],n[l]=h}return n.slice(0,e)},i.sortBy=function(t,e,r){var n=0;return e=p(e,r),i.pluck(i.map(t,function(s,u,a){return{value:s,index:n++,criteria:e(s,u,a)}}).sort(function(s,u){var a=s.criteria,l=u.criteria;if(a!==l){if(a>l||a===void 0)return 1;if(a<l||l===void 0)return-1}return s.index-u.index}),"value")};var D=function(t,e){return function(r,n,s){var u=e?[[],[]]:{};return n=p(n,s),i.each(r,function(a,l){var h=n(a,l,r);t(u,a,h)}),u}};i.groupBy=D(function(t,e,r){O(t,r)?t[r].push(e):t[r]=[e]}),i.indexBy=D(function(t,e,r){t[r]=e}),i.countBy=D(function(t,e,r){O(t,r)?t[r]++:t[r]=1});var tt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;i.toArray=function(t){return t?i.isArray(t)?g.call(t):i.isString(t)?t.match(tt):w(t)?i.map(t,i.identity):i.values(t):[]},i.size=function(t){return t==null?0:w(t)?t.length:i.keys(t).length},i.partition=D(function(t,e,r){t[r?0:1].push(e)},!0),i.first=i.head=i.take=function(t,e,r){return t==null||t.length<1?e==null?void 0:[]:e==null||r?t[0]:i.initial(t,t.length-e)},i.initial=function(t,e,r){return g.call(t,0,Math.max(0,t.length-(e==null||r?1:e)))},i.last=function(t,e,r){return t==null||t.length<1?e==null?void 0:[]:e==null||r?t[t.length-1]:i.rest(t,Math.max(0,t.length-e))},i.rest=i.tail=i.drop=function(t,e,r){return g.call(t,e==null||r?1:e)},i.compact=function(t){return i.filter(t,Boolean)};var R=function(t,e,r,n){n=n||[];for(var s=n.length,u=0,a=_(t);u<a;u++){var l=t[u];if(w(l)&&(i.isArray(l)||i.isArguments(l)))if(e)for(var h=0,c=l.length;h<c;)n[s++]=l[h++];else R(l,e,r,n),s=n.length;else r||(n[s++]=l)}return n};i.flatten=function(t,e){return R(t,e,!1)},i.without=y(function(t,e){return i.difference(t,e)}),i.uniq=i.unique=function(t,e,r,n){i.isBoolean(e)||(n=r,r=e,e=!1),r!=null&&(r=p(r,n));for(var s=[],u=[],a=0,l=_(t);a<l;a++){var h=t[a],c=r?r(h,a,t):h;e&&!r?((!a||u!==c)&&s.push(h),u=c):r?i.contains(u,c)||(u.push(c),s.push(h)):i.contains(s,h)||s.push(h)}return s},i.union=y(function(t){return i.uniq(R(t,!0,!0))}),i.intersection=function(t){for(var e=[],r=arguments.length,n=0,s=_(t);n<s;n++){var u=t[n];if(!i.contains(e,u)){var a;for(a=1;a<r&&i.contains(arguments[a],u);a++);a===r&&e.push(u)}}return e},i.difference=y(function(t,e){return e=R(e,!0,!0),i.filter(t,function(r){return!i.contains(e,r)})}),i.unzip=function(t){for(var e=t&&i.max(t,_).length||0,r=Array(e),n=0;n<e;n++)r[n]=i.pluck(t,n);return r},i.zip=y(i.unzip),i.object=function(t,e){for(var r={},n=0,s=_(t);n<s;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r};var et=function(t){return function(e,r,n){r=p(r,n);for(var s=_(e),u=t>0?0:s-1;u>=0&&u<s;u+=t)if(r(e[u],u,e))return u;return-1}};i.findIndex=et(1),i.findLastIndex=et(-1),i.sortedIndex=function(t,e,r,n){r=p(r,n,1);for(var s=r(e),u=0,a=_(t);u<a;){var l=Math.floor((u+a)/2);r(t[l])<s?u=l+1:a=l}return u};var rt=function(t,e,r){return function(n,s,u){var a=0,l=_(n);if(typeof u=="number")t>0?a=u>=0?u:Math.max(u+l,a):l=u>=0?Math.min(u+1,l):u+l+1;else if(r&&u&&l)return u=r(n,s),n[u]===s?u:-1;if(s!==s)return u=e(g.call(n,a,l),i.isNaN),u>=0?u+a:-1;for(u=t>0?a:l-1;u>=0&&u<l;u+=t)if(n[u]===s)return u;return-1}};i.indexOf=rt(1,i.findIndex,i.sortedIndex),i.lastIndexOf=rt(-1,i.findLastIndex),i.range=function(t,e,r){e==null&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),s=Array(n),u=0;u<n;u++,t+=r)s[u]=t;return s},i.chunk=function(t,e){if(e==null||e<1)return[];for(var r=[],n=0,s=t.length;n<s;)r.push(g.call(t,n,n+=e));return r};var K=function(t,e,r,n,s){if(!(n instanceof e))return t.apply(r,s);var u=C(t.prototype),a=t.apply(u,s);return i.isObject(a)?a:u};i.bind=y(function(t,e,r){if(!i.isFunction(t))throw new TypeError("Bind must be called on a function");var n=y(function(s){return K(t,n,e,this,r.concat(s))});return n}),i.partial=y(function(t,e){var r=i.partial.placeholder,n=function(){for(var s=0,u=e.length,a=Array(u),l=0;l<u;l++)a[l]=e[l]===r?arguments[s++]:e[l];for(;s<arguments.length;)a.push(arguments[s++]);return K(t,n,this,this,a)};return n}),i.partial.placeholder=i,i.bindAll=y(function(t,e){e=R(e,!1,!1);var r=e.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=e[r];t[n]=i.bind(t[n],t)}}),i.memoize=function(t,e){var r=function(n){var s=r.cache,u=""+(e?e.apply(this,arguments):n);return O(s,u)||(s[u]=t.apply(this,arguments)),s[u]};return r.cache={},r},i.delay=y(function(t,e,r){return setTimeout(function(){return t.apply(null,r)},e)}),i.defer=i.partial(i.delay,i,1),i.throttle=function(t,e,r){var n,s,u,a,l=0;r||(r={});var h=function(){l=r.leading===!1?0:i.now(),n=null,a=t.apply(s,u),n||(s=u=null)},c=function(){var d=i.now();!l&&r.leading===!1&&(l=d);var v=e-(d-l);return s=this,u=arguments,v<=0||v>e?(n&&(clearTimeout(n),n=null),l=d,a=t.apply(s,u),n||(s=u=null)):!n&&r.trailing!==!1&&(n=setTimeout(h,v)),a};return c.cancel=function(){clearTimeout(n),l=0,n=s=u=null},c},i.debounce=function(t,e,r){var n,s,u=function(l,h){n=null,h&&(s=t.apply(l,h))},a=y(function(l){if(n&&clearTimeout(n),r){var h=!n;n=setTimeout(u,e),h&&(s=t.apply(this,l))}else n=i.delay(u,e,this,l);return s});return a.cancel=function(){clearTimeout(n),n=null},a},i.wrap=function(t,e){return i.partial(e,t)},i.negate=function(t){return function(){return!t.apply(this,arguments)}},i.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},i.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},i.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},i.once=i.partial(i.before,2),i.restArguments=y;var X=!{toString:null}.propertyIsEnumerable("toString"),nt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],it=function(t,e){var r=nt.length,n=t.constructor,s=i.isFunction(n)&&n.prototype||P,u="constructor";for(O(t,u)&&!i.contains(e,u)&&e.push(u);r--;)u=nt[r],u in t&&t[u]!==s[u]&&!i.contains(e,u)&&e.push(u)};i.keys=function(t){if(!i.isObject(t))return[];if(k)return k(t);var e=[];for(var r in t)O(t,r)&&e.push(r);return X&&it(t,e),e},i.allKeys=function(t){if(!i.isObject(t))return[];var e=[];for(var r in t)e.push(r);return X&&it(t,e),e},i.values=function(t){for(var e=i.keys(t),r=e.length,n=Array(r),s=0;s<r;s++)n[s]=t[e[s]];return n},i.mapObject=function(t,e,r){e=p(e,r);for(var n=i.keys(t),s=n.length,u={},a=0;a<s;a++){var l=n[a];u[l]=e(t[l],l,t)}return u},i.pairs=function(t){for(var e=i.keys(t),r=e.length,n=Array(r),s=0;s<r;s++)n[s]=[e[s],t[e[s]]];return n},i.invert=function(t){for(var e={},r=i.keys(t),n=0,s=r.length;n<s;n++)e[t[r[n]]]=r[n];return e},i.functions=i.methods=function(t){var e=[];for(var r in t)i.isFunction(t[r])&&e.push(r);return e.sort()};var Y=function(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||r==null)return r;for(var s=1;s<n;s++)for(var u=arguments[s],a=t(u),l=a.length,h=0;h<l;h++){var c=a[h];(!e||r[c]===void 0)&&(r[c]=u[c])}return r}};i.extend=Y(i.allKeys),i.extendOwn=i.assign=Y(i.keys),i.findKey=function(t,e,r){e=p(e,r);for(var n=i.keys(t),s,u=0,a=n.length;u<a;u++)if(s=n[u],e(t[s],s,t))return s};var lt=function(t,e,r){return e in r};i.pick=y(function(t,e){var r={},n=e[0];if(t==null)return r;i.isFunction(n)?(e.length>1&&(n=H(n,e[1])),e=i.allKeys(t)):(n=lt,e=R(e,!1,!1),t=Object(t));for(var s=0,u=e.length;s<u;s++){var a=e[s],l=t[a];n(l,a,t)&&(r[a]=l)}return r}),i.omit=y(function(t,e){var r=e[0],n;return i.isFunction(r)?(r=i.negate(r),e.length>1&&(n=e[1])):(e=i.map(R(e,!1,!1),String),r=function(s,u){return!i.contains(e,u)}),i.pick(t,r,n)}),i.defaults=Y(i.allKeys,!0),i.create=function(t,e){var r=C(t);return e&&i.extendOwn(r,e),r},i.clone=function(t){return i.isObject(t)?i.isArray(t)?t.slice():i.extend({},t):t},i.tap=function(t,e){return e(t),t},i.isMatch=function(t,e){var r=i.keys(e),n=r.length;if(t==null)return!n;for(var s=Object(t),u=0;u<n;u++){var a=r[u];if(e[a]!==s[a]||!(a in s))return!1}return!0};var U,ut;U=function(t,e,r,n){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;return s!=="function"&&s!=="object"&&typeof e!="object"?!1:ut(t,e,r,n)},ut=function(t,e,r,n){t instanceof i&&(t=t._wrapped),e instanceof i&&(e=e._wrapped);var s=N.call(t);if(s!==N.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return $.valueOf.call(t)===$.valueOf.call(e)}var u=s==="[object Array]";if(!u){if(typeof t!="object"||typeof e!="object")return!1;var a=t.constructor,l=e.constructor;if(a!==l&&!(i.isFunction(a)&&a instanceof a&&i.isFunction(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var h=r.length;h--;)if(r[h]===t)return n[h]===e;if(r.push(t),n.push(e),u){if(h=t.length,h!==e.length)return!1;for(;h--;)if(!U(t[h],e[h],r,n))return!1}else{var c=i.keys(t),d;if(h=c.length,i.keys(e).length!==h)return!1;for(;h--;)if(d=c[h],!(O(e,d)&&U(t[d],e[d],r,n)))return!1}return r.pop(),n.pop(),!0},i.isEqual=function(t,e){return U(t,e)},i.isEmpty=function(t){return t==null?!0:w(t)&&(i.isArray(t)||i.isString(t)||i.isArguments(t))?t.length===0:i.keys(t).length===0},i.isElement=function(t){return!!(t&&t.nodeType===1)},i.isArray=T||function(t){return N.call(t)==="[object Array]"},i.isObject=function(t){var e=typeof t;return e==="function"||e==="object"&&!!t},i.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){i["is"+t]=function(e){return N.call(e)==="[object "+t+"]"}}),i.isArguments(arguments)||(i.isArguments=function(t){return O(t,"callee")});var ft=x.document&&x.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof ft!="function"&&(i.isFunction=function(t){return typeof t=="function"||!1}),i.isFinite=function(t){return!i.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},i.isNaN=function(t){return i.isNumber(t)&&isNaN(t)},i.isBoolean=function(t){return t===!0||t===!1||N.call(t)==="[object Boolean]"},i.isNull=function(t){return t===null},i.isUndefined=function(t){return t===void 0},i.has=function(t,e){if(!i.isArray(e))return O(t,e);for(var r=e.length,n=0;n<r;n++){var s=e[n];if(t==null||!I.call(t,s))return!1;t=t[s]}return!!r},i.noConflict=function(){return x._=o,this},i.identity=function(t){return t},i.constant=function(t){return function(){return t}},i.noop=function(){},i.property=function(t){return i.isArray(t)?function(e){return L(e,t)}:j(t)},i.propertyOf=function(t){return t==null?function(){}:function(e){return i.isArray(e)?L(t,e):t[e]}},i.matcher=i.matches=function(t){return t=i.extendOwn({},t),function(e){return i.isMatch(e,t)}},i.times=function(t,e,r){var n=Array(Math.max(0,t));e=H(e,r,1);for(var s=0;s<t;s++)n[s]=e(s);return n},i.random=function(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},i.now=Date.now||function(){return new Date().getTime()};var st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ht=i.invert(st),S=function(t){var e=function(u){return t[u]},r="(?:"+i.keys(t).join("|")+")",n=RegExp(r),s=RegExp(r,"g");return function(u){return u=u==null?"":""+u,n.test(u)?u.replace(s,e):u}};i.escape=S(st),i.unescape=S(ht),i.result=function(t,e,r){i.isArray(e)||(e=[e]);var n=e.length;if(!n)return i.isFunction(r)?r.call(t):r;for(var s=0;s<n;s++){var u=t?.[e[s]];u===void 0&&(u=r,s=n),t=i.isFunction(u)?u.call(t):u}return t};var ct=0;i.uniqueId=function(t){var e=++ct+"";return t?t+e:e},i.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Q=/(.)^/,ot={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},vt=/\\|'|\r|\n|\u2028|\u2029/g,at=function(t){return"\\"+ot[t]};i.template=function(t,e,r){!e&&r&&(e=r),e=i.defaults({},e,i.templateSettings);var n=RegExp([(e.escape||Q).source,(e.interpolate||Q).source,(e.evaluate||Q).source].join("|")+"|$","g"),s=0,u="__p+='";t.replace(n,function(c,d,v,E,V){return u+=t.slice(s,V).replace(vt,at),s=V+c.length,d?u+=`'+
((__t=(`+d+`))==null?'':_.escape(__t))+
'`:v?u+=`'+
((__t=(`+v+`))==null?'':__t)+
'`:E&&(u+=`';
`+E+`
__p+='`),c}),u+=`';
`,e.variable||(u=`with(obj||{}){
`+u+`}
`),u=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+u+`return __p;
`;var a;try{a=new Function(e.variable||"obj","_",u)}catch(c){throw c.source=u,c}var l=function(c){return a.call(this,c,i)},h=e.variable||"obj";return l.source="function("+h+`){
`+u+"}",l},i.chain=function(t){var e=i(t);return e._chain=!0,e};var F=function(t,e){return t._chain?i(e).chain():e};i.mixin=function(t){return i.each(i.functions(t),function(e){var r=i[e]=t[e];i.prototype[e]=function(){var n=[this._wrapped];return z.apply(n,arguments),F(this,r.apply(i,n))}}),i},i.mixin(i),i.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=f[t];i.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),(t==="shift"||t==="splice")&&r.length===0&&delete r[0],F(this,r)}}),i.each(["concat","join","slice"],function(t){var e=f[t];i.prototype[t]=function(){return F(this,e.apply(this._wrapped,arguments))}}),i.prototype.value=function(){return this._wrapped},i.prototype.valueOf=i.prototype.toJSON=i.prototype.value,i.prototype.toString=function(){return String(this._wrapped)},typeof define=="function"&&define.amd&&define("underscore",[],function(){return i})})()});var It=yt(gt=>{"use strict";(function(x){var o=typeof self=="object"&&self.self===self&&self||typeof window=="object"&&window.global===window&&window;if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function($,z,g){o.Backbone=x(o,g,$,z)});else if(typeof gt<"u"){var f=mt(),P;try{P=xt()}catch{}x(o,gt,f,P)}else o.Backbone=x(o,{},o._,o.jQuery||o.Zepto||o.ender||o.$)})(function(x,o,f,P){var $=x.Backbone,z=Array.prototype.slice;o.VERSION="1.4.0",o.$=P,o.noConflict=function(){return x.Backbone=$,this},o.emulateHTTP=!1,o.emulateJSON=!1;var g=o.Events={},N=/\s+/,I,T=function(t,e,r,n,s){var u=0,a;if(r&&typeof r=="object")for(n!==void 0&&("context"in s)&&s.context===void 0&&(s.context=n),a=f.keys(r);u<a.length;u++)e=T(t,e,a[u],r[a[u]],s);else if(r&&N.test(r))for(a=r.split(N);u<a.length;u++)e=t(e,a[u],n,s);else e=t(e,r,n,s);return e};g.on=function(t,e,r){if(this._events=T(k,this._events||{},t,e,{context:r,ctx:this,listening:I}),I){var n=this._listeners||(this._listeners={});n[I.id]=I,I.interop=!1}return this},g.listenTo=function(t,e,r){if(!t)return this;var n=t._listenId||(t._listenId=f.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),u=I=s[n];u||(this._listenId||(this._listenId=f.uniqueId("l")),u=I=s[n]=new p(this,t));var a=b(t,e,r,this);if(I=void 0,a)throw a;return u.interop&&u.on(e,r),this};var k=function(t,e,r,n){if(r){var s=t[e]||(t[e]=[]),u=n.context,a=n.ctx,l=n.listening;l&&l.count++,s.push({callback:r,context:u,ctx:u||a,listening:l})}return t},b=function(t,e,r,n){try{t.on(e,r,n)}catch(s){return s}};g.off=function(t,e,r){return this._events?(this._events=T(q,this._events,t,e,{context:r,listeners:this._listeners}),this):this},g.stopListening=function(t,e,r){var n=this._listeningTo;if(!n)return this;for(var s=t?[t._listenId]:f.keys(n),u=0;u<s.length;u++){var a=n[s[u]];if(!a)break;a.obj.off(e,r,this),a.interop&&a.off(e,r)}return f.isEmpty(n)&&(this._listeningTo=void 0),this};var q=function(t,e,r,n){if(t){var s=n.context,u=n.listeners,a=0,l;if(!e&&!s&&!r){for(l=f.keys(u);a<l.length;a++)u[l[a]].cleanup();return}for(l=e?[e]:f.keys(t);a<l.length;a++){e=l[a];var h=t[e];if(!h)break;for(var c=[],d=0;d<h.length;d++){var v=h[d];if(r&&r!==v.callback&&r!==v.callback._callback||s&&s!==v.context)c.push(v);else{var E=v.listening;E&&E.off(e,r)}}c.length?t[e]=c:delete t[e]}return t}};g.once=function(t,e,r){var n=T(i,{},t,e,this.off.bind(this));return typeof t=="string"&&r==null&&(e=void 0),this.on(n,e,r)},g.listenToOnce=function(t,e,r){var n=T(i,{},e,r,this.stopListening.bind(this,t));return this.listenTo(t,n)};var i=function(t,e,r,n){if(r){var s=t[e]=f.once(function(){n(e,s),r.apply(this,arguments)});s._callback=r}return t};g.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),r=Array(e),n=0;n<e;n++)r[n]=arguments[n+1];return T(H,this._events,t,void 0,r),this};var H=function(t,e,r,n){if(t){var s=t[e],u=t.all;s&&u&&(u=u.slice()),s&&W(s,n),u&&W(u,[e].concat(n))}return t},W=function(t,e){var r,n=-1,s=t.length,u=e[0],a=e[1],l=e[2];switch(e.length){case 0:for(;++n<s;)(r=t[n]).callback.call(r.ctx);return;case 1:for(;++n<s;)(r=t[n]).callback.call(r.ctx,u);return;case 2:for(;++n<s;)(r=t[n]).callback.call(r.ctx,u,a);return;case 3:for(;++n<s;)(r=t[n]).callback.call(r.ctx,u,a,l);return;default:for(;++n<s;)(r=t[n]).callback.apply(r.ctx,e);return}},p=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};p.prototype.on=g.on,p.prototype.off=function(t,e){var r;this.interop?(this._events=T(q,this._events,t,e,{context:void 0,listeners:void 0}),r=!this._events):(this.count--,r=this.count===0),r&&this.cleanup()},p.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},g.bind=g.on,g.unbind=g.off,f.extend(o,g);var y=o.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=f.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var n=f.result(this,"defaults");r=f.defaults(f.extend({},n,r),n),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};f.extend(y.prototype,g,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return f.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return f.escape(this.get(t))},has:function(t){return this.get(t)!=null},matches:function(t){return!!f.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(t==null)return this;var n;if(typeof t=="object"?(n=t,r=e):(n={})[t]=e,r||(r={}),!this._validate(n,r))return!1;var s=r.unset,u=r.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=f.clone(this.attributes),this.changed={});var h=this.attributes,c=this.changed,d=this._previousAttributes;for(var v in n)e=n[v],f.isEqual(h[v],e)||a.push(v),f.isEqual(d[v],e)?delete c[v]:c[v]=e,s?delete h[v]:h[v]=e;if(this.idAttribute in n&&(this.id=this.get(this.idAttribute)),!u){a.length&&(this._pending=r);for(var E=0;E<a.length;E++)this.trigger("change:"+a[E],this,h[a[E]],r)}if(l)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,f.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,f.extend({},t,{unset:!0}))},hasChanged:function(t){return t==null?!f.isEmpty(this.changed):f.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?f.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,r={},n;for(var s in t){var u=t[s];f.isEqual(e[s],u)||(r[s]=u,n=!0)}return n?r:!1},previous:function(t){return t==null||!this._previousAttributes?null:this._previousAttributes[t]},previousAttributes:function(){return f.clone(this._previousAttributes)},fetch:function(t){t=f.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var s=t.parse?e.parse(n,t):n;if(!e.set(s,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},F(this,t),this.sync("read",this,t)},save:function(t,e,r){var n;t==null||typeof t=="object"?(n=t,r=e):(n={})[t]=e,r=f.extend({validate:!0,parse:!0},r);var s=r.wait;if(n&&!s){if(!this.set(n,r))return!1}else if(!this._validate(n,r))return!1;var u=this,a=r.success,l=this.attributes;r.success=function(d){u.attributes=l;var v=r.parse?u.parse(d,r):d;if(s&&(v=f.extend({},n,v)),v&&!u.set(v,r))return!1;a&&a.call(r.context,u,d,r),u.trigger("sync",u,d,r)},F(this,r),n&&s&&(this.attributes=f.extend({},l,n));var h=this.isNew()?"create":r.patch?"patch":"update";h==="patch"&&!r.attrs&&(r.attrs=n);var c=this.sync(h,this,r);return this.attributes=l,c},destroy:function(t){t=t?f.clone(t):{};var e=this,r=t.success,n=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(a){n&&s(),r&&r.call(t.context,e,a,t),e.isNew()||e.trigger("sync",e,a,t)};var u=!1;return this.isNew()?f.defer(t.success):(F(this,t),u=this.sync("delete",this,t)),n||s(),u},url:function(){var t=f.result(this,"urlRoot")||f.result(this.collection,"url")||at();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},f.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=f.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,f.extend(e,{validationError:r})),!1):!0}});var C=o.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),e.comparator!==void 0&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,f.extend({silent:!0},e))},j={add:!0,remove:!0,merge:!0},O={add:!0,remove:!1},L=function(t,e,r){r=Math.min(Math.max(r,0),t.length);var n=Array(t.length-r),s=e.length,u;for(u=0;u<n.length;u++)n[u]=t[u+r];for(u=0;u<s;u++)t[u+r]=e[u];for(u=0;u<n.length;u++)t[u+s+r]=n[u]};f.extend(C.prototype,g,{model:y,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return o.sync.apply(this,arguments)},add:function(t,e){return this.set(t,f.extend({merge:!1},e,O))},remove:function(t,e){e=f.extend({},e);var r=!f.isArray(t);t=r?[t]:t.slice();var n=this._removeModels(t,e);return!e.silent&&n.length&&(e.changes={added:[],merged:[],removed:n},this.trigger("update",this,e)),r?n[0]:n},set:function(t,e){if(t!=null){e=f.extend({},j,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!f.isArray(t);t=r?[t]:t.slice();var n=e.at;n!=null&&(n=+n),n>this.length&&(n=this.length),n<0&&(n+=this.length+1);var s=[],u=[],a=[],l=[],h={},c=e.add,d=e.merge,v=e.remove,E=!1,V=this.comparator&&n==null&&e.sort!==!1,wt=f.isString(this.comparator)?this.comparator:null,m,A;for(A=0;A<t.length;A++){m=t[A];var M=this.get(m);if(M){if(d&&m!==M){var dt=this._isModel(m)?m.attributes:m;e.parse&&(dt=M.parse(dt,e)),M.set(dt,e),a.push(M),V&&!E&&(E=M.hasChanged(wt))}h[M.cid]||(h[M.cid]=!0,s.push(M)),t[A]=M}else c&&(m=t[A]=this._prepareModel(m,e),m&&(u.push(m),this._addReference(m,e),h[m.cid]=!0,s.push(m)))}if(v){for(A=0;A<this.length;A++)m=this.models[A],h[m.cid]||l.push(m);l.length&&this._removeModels(l,e)}var pt=!1,_t=!V&&c&&v;if(s.length&&_t?(pt=this.length!==s.length||f.some(this.models,function(Et,At){return Et!==s[At]}),this.models.length=0,L(this.models,s,0),this.length=this.models.length):u.length&&(V&&(E=!0),L(this.models,u,n??this.length),this.length=this.models.length),E&&this.sort({silent:!0}),!e.silent){for(A=0;A<u.length;A++)n!=null&&(e.index=n+A),m=u[A],m.trigger("add",m,this,e);(E||pt)&&this.trigger("sort",this,e),(u.length||l.length||a.length)&&(e.changes={added:u,removed:l,merged:a},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?f.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,f.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,f.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,f.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return z.apply(this.models,arguments)},get:function(t){if(t!=null)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return this.get(t)!=null},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return f.isFunction(e)&&(e=e.bind(this)),r===1||f.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=f.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var s=t.reset?"reset":"set";r[s](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){e=e?f.clone(e):{};var r=e.wait;if(t=this._prepareModel(t,e),!t)return!1;r||this.add(t,e);var n=this,s=e.success;return e.success=function(u,a,l){r&&n.add(u,l),s&&s.call(l.context,u,a,l)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},values:function(){return new _(this,w)},keys:function(){return new _(this,G)},entries:function(){return new _(this,D)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?f.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var r=[],n=0;n<t.length;n++){var s=this.get(t[n]);if(s){var u=this.indexOf(s);this.models.splice(u,1),this.length--,delete this._byId[s.cid];var a=this.modelId(s.attributes);a!=null&&delete this._byId[a],e.silent||(e.index=u,s.trigger("remove",s,this,e)),r.push(s),this._removeReference(s,e)}}return r},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var r=this.modelId(t.attributes);r!=null&&(this._byId[r]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var r=this.modelId(t.attributes);r!=null&&delete this._byId[r],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,r,n){if(e){if((t==="add"||t==="remove")&&r!==this)return;if(t==="destroy"&&this.remove(e,n),t==="change"){var s=this.modelId(e.previousAttributes()),u=this.modelId(e.attributes);s!==u&&(s!=null&&delete this._byId[s],u!=null&&(this._byId[u]=e))}}this.trigger.apply(this,arguments)}});var J=typeof Symbol=="function"&&Symbol.iterator;J&&(C.prototype[J]=C.prototype.values);var _=function(t,e){this._collection=t,this._kind=e,this._index=0},w=1,G=2,D=3;J&&(_.prototype[J]=function(){return this}),_.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t=this._collection.at(this._index);this._index++;var e;if(this._kind===w)e=t;else{var r=this._collection.modelId(t.attributes);this._kind===G?e=r:e=[r,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var tt=o.View=function(t){this.cid=f.uniqueId("view"),this.preinitialize.apply(this,arguments),f.extend(this,f.pick(t,et)),this._ensureElement(),this.initialize.apply(this,arguments)},R=/^(\S+)\s*(.*)$/,et=["model","collection","el","id","attributes","className","tagName","events"];f.extend(tt.prototype,g,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof o.$?t:o.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=f.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(f.isFunction(r)||(r=this[r]),!!r){var n=e.match(R);this.delegate(n[1],n[2],r.bind(this))}}return this},delegate:function(t,e,r){return this.$el.on(t+".delegateEvents"+this.cid,e,r),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,r){return this.$el.off(t+".delegateEvents"+this.cid,e,r),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"));else{var t=f.extend({},f.result(this,"attributes"));this.id&&(t.id=f.result(this,"id")),this.className&&(t.class=f.result(this,"className")),this.setElement(this._createElement(f.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var rt=function(t,e,r,n){switch(e){case 1:return function(){return t[r](this[n])};case 2:return function(s){return t[r](this[n],s)};case 3:return function(s,u){return t[r](this[n],X(s,this),u)};case 4:return function(s,u,a){return t[r](this[n],X(s,this),u,a)};default:return function(){var s=z.call(arguments);return s.unshift(this[n]),t[r].apply(t,s)}}},K=function(t,e,r,n){f.each(r,function(s,u){e[u]&&(t.prototype[u]=rt(e,s,u,n))})},X=function(t,e){return f.isFunction(t)?t:f.isObject(t)&&!e._isModel(t)?nt(t):f.isString(t)?function(r){return r.get(t)}:t},nt=function(t){var e=f.matches(t);return function(r){return e(r.attributes)}},it={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Y={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};f.each([[C,it,"models"],[y,Y,"attributes"]],function(t){var e=t[0],r=t[1],n=t[2];e.mixin=function(s){var u=f.reduce(f.functions(s),function(a,l){return a[l]=0,a},{});K(e,s,u,n)},K(e,f,r,n)}),o.sync=function(t,e,r){var n=lt[t];f.defaults(r||(r={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var s={type:n,dataType:"json"};if(r.url||(s.url=f.result(e,"url")||at()),r.data==null&&e&&(t==="create"||t==="update"||t==="patch")&&(s.contentType="application/json",s.data=JSON.stringify(r.attrs||e.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&(n==="PUT"||n==="DELETE"||n==="PATCH")){s.type="POST",r.emulateJSON&&(s.data._method=n);var u=r.beforeSend;r.beforeSend=function(h){if(h.setRequestHeader("X-HTTP-Method-Override",n),u)return u.apply(this,arguments)}}s.type!=="GET"&&!r.emulateJSON&&(s.processData=!1);var a=r.error;r.error=function(h,c,d){r.textStatus=c,r.errorThrown=d,a&&a.call(r.context,h,c,d)};var l=r.xhr=o.ajax(f.extend(s,r));return e.trigger("request",e,l,r),l};var lt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var U=o.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},ut=/\((.*?)\)/g,ft=/(\(\?)?:\w+/g,st=/\*\w+/g,ht=/[\-{}\[\]+?.,\\\^$|#\s]/g;f.extend(U.prototype,g,{preinitialize:function(){},initialize:function(){},route:function(t,e,r){f.isRegExp(t)||(t=this._routeToRegExp(t)),f.isFunction(e)&&(r=e,e=""),r||(r=this[e]);var n=this;return o.history.route(t,function(s){var u=n._extractParameters(t,s);n.execute(r,u,e)!==!1&&(n.trigger.apply(n,["route:"+e].concat(u)),n.trigger("route",e,u),o.history.trigger("route",n,e,u))}),this},execute:function(t,e,r){t&&t.apply(this,e)},navigate:function(t,e){return o.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=f.result(this,"routes");for(var t,e=f.keys(this.routes);(t=e.pop())!=null;)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(ht,"\\$&").replace(ut,"(?:$1)?").replace(ft,function(e,r){return r?e:"([^/?]+)"}).replace(st,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return f.map(r,function(n,s){return s===r.length-1?n||null:n?decodeURIComponent(n):null})}});var S=o.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ct=/^[#\/]|\s+$/g,Q=/^\/+|\/+$/g,ot=/#.*$/;S.started=!1,f.extend(S.prototype,g,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return t.charAt(0)==="/"?t.slice(1):t},getFragment:function(t){return t==null&&(this._usePushState||!this._wantsHashChange?t=this.getPath():t=this.getHash()),t.replace(ct,"")},start:function(t){if(S.started)throw new Error("Backbone.history has already been started");if(S.started=!0,this.options=f.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Q,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,n=r.insertBefore(this.iframe,r.firstChild).contentWindow;n.document.open(),n.document.close(),n.location.hash="#"+this.fragment}var s=window.addEventListener||function(u,a){return attachEvent("on"+u,a)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(e,r){return detachEvent("on"+e,r)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),S.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),f.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0})):!1},navigate:function(t,e){if(!S.started)return!1;(!e||e===!0)&&(e={trigger:!!e}),t=this.getFragment(t||"");var r=this.root;(t===""||t.charAt(0)==="?")&&(r=r.slice(0,-1)||"/");var n=r+t;t=t.replace(ot,"");var s=this.decodeFragment(t);if(this.fragment!==s){if(this.fragment=s,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else if(this._wantsHashChange){if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var u=this.iframe.contentWindow;e.replace||(u.document.open(),u.document.close()),this._updateHash(u.location,t,e.replace)}}else return this.location.assign(n);if(e.trigger)return this.loadUrl(t)}},_updateHash:function(t,e,r){if(r){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),o.history=new S;var vt=function(t,e){var r=this,n;return t&&f.has(t,"constructor")?n=t.constructor:n=function(){return r.apply(this,arguments)},f.extend(n,r,e),n.prototype=f.create(r.prototype,t),n.prototype.constructor=n,n.__super__=r.prototype,n};y.extend=C.extend=U.extend=tt.extend=S.extend=vt;var at=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var r=e.error;e.error=function(n){r&&r.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return o})});export{It as a};
