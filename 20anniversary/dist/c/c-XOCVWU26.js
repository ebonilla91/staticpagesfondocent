import{a as N}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-A4XRY3PY.js";import{a as j}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-TQPLAJYR.js";import{a as I}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-OWKND2N3.js";import{F as P,G as r,J as B}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-BPJUKUAP.js";import{a as D}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-WSIFDYHJ.js";import{a as w,c as T,d as v}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-IDSWT3EJ.js";var _={};T(_,{BackboneCollectionContextProvider:()=>O,BackboneContext:()=>g,BackboneContextProvider:()=>S,CreateContextProvider:()=>E,renderReact:()=>U});function S({domElement:c,model:e,children:C,context:p,onDestroy:d}){let u={modelSet:(i,s)=>e.set(i,s),modelUnset:(i,s)=>e.unset(i,s),modelSave:(i,s)=>e.save(i,s),destroy:()=>{c&&d&&d()}},[a,b]=(0,m.useState)({model:e.attributes}),f=i=>{b({...a,model:i.attributes})};return(0,m.useEffect)(()=>(e.on("change",f),()=>{e.off("change",f)}),[e]),r(p.Provider,{value:{...a,...u,rawModel:e},children:C})}function O({domElement:c,collection:e,children:C,context:p,onDestroy:d}){let u={elementSet:(t,l,o)=>{let n=e.get(t);if(!n)throw new Error("Element not found");return n.set(l,o)},elementUnset:(t,l,o)=>{let n=e.get(t);if(!n)throw new Error("Element not found");return n.unset(l,o)},elementSave:(t,l,o)=>{let n=e.get(t);if(!n)throw new Error("Element not found");return n.save(l,o)},destroy:()=>{c&&d&&d()}},[a,b]=(0,m.useState)({collection:e.map(t=>t.attributes)}),f=t=>{let l=t.get("_id");b(o=>{let n=o.collection.findIndex(M=>M._id===l);if(n===-1)return{collection:o.collection};let x=o.collection.splice(0);return x[n]=t.attributes,{collection:x}})},i=t=>{b(l=>{let o=l.collection.splice(0);return o.push(t.attributes),{collection:o}})},s=t=>{let l=t.get("_id");b(o=>{let n=o.collection.findIndex(M=>M._id===l);if(n===-1)return{collection:o.collection};let x=o.collection.splice(0);return x.splice(n,1),{collection:x}})};return(0,m.useEffect)(()=>(e.on("change",f),e.on("add",i),e.on("remove",s),()=>{e.off("change",f),e.off("add",i),e.on("off",s)}),[e]),r(p.Provider,{value:{...a,...u},children:C})}function E({model:c,collection:e,domElement:C,context:p,children:d,onDestroy:u}){return c?r(S,{model:c,domElement:C,context:p,onDestroy:u,children:d}):e?r(O,{collection:e,domElement:C,context:p,children:d}):r(P,{children:d})}function h({onRenderComplete:c,children:e}){return(0,m.useEffect)(()=>{c?.()},[]),r(P,{children:e})}var y,m,R,k,g,U,q=w(()=>{y=v(j()),m=v(D()),R=v(I()),k=v(N());B();g=(0,m.createContext)({});U=({component:c,domElement:e,props:C,model:p,onDestroy:d,onRenderComplete:u,useReact18:a})=>{let b=p?r(h,{onRenderComplete:a?u:void 0,children:r(y.RMThemeProvider,{withGlobalStyles:!1,children:r(E,{model:p,domElement:e,context:g,onDestroy:d,children:r(c,{...C})})})}):r(h,{onRenderComplete:a?u:void 0,children:r(c,{})}),f=a?k.default.createRoot(e):null;function i(){a&&f.render(b)}function s(){a&&(f.unmount(),f=k.default.createRoot(e))}return a||R.default.render(b,e,u),{render:i,unmount:s}}});export{g as a,S as b,O as c,E as d,U as e,_ as f,q as g};
