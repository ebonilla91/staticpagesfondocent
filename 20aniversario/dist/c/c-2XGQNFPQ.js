import{e as Y,f as ee,k as Ue}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-TVFWAXKI.js";import{a as S,b as We}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-3ZELX36Q.js";import{a as V,b as h,f as B}from"https://d1id5eheivyv24.cloudfront.net/98c7974b/dist/c/c-IDSWT3EJ.js";var te=V(()=>{"use strict"});var Rt,qt,Dt,re,Nt,ie,ne=V(()=>{"use strict";We();Rt=(e,r)=>S.post(`/api/ecommerce/${e}/stripe/checkout-session`,{...r}),qt=(e,r)=>S.get(`/api/ecommerce/${e}/stripe/customer/by-checkout-session/${r}`),Dt=(e,r)=>S.post(`/api/ecommerce/${e}/stripe/billing-portal-session`,{...r}),re=(e,r)=>S.get(`/api/connect/ecommerce/${r}/disconnect?num_id=${e}`),Nt=(e,r)=>S.get(`/api/${r?"published_projects":"projects"}/${e}/ecommerce/stripe/products`),ie=(e,r)=>S.get(`/api/ecommerce/${e}/ecwid/products${r}`)});var Ve,M,Be=V(()=>{"use strict";te();ne();Ue();Ve=["SELECT","SIZE","RADIO"],M=class{constructor(r){B(this,"numId");B(this,"libraryAdded",!1);this.numId=r}async disconnect(r){return await re(r,"ecwid")}async loadProducts(r,t,i){let a=i&&window?.RM?.screenshotMode==="preview"?"?type=preview":t?"?type=published":"";return(await ie(r,a)).data||[]}mapProductsToSelectOptions(r,t){let i=r.map(a=>({value:a.id,caption:a.name}));return t&&t!=="default"&&!i.find(a=>a.value===t)&&i.unshift({value:t,caption:"inactive product"}),i.unshift({value:"default",caption:"None"}),i}isProductActive(r){return!!r.active}productHasActiveOptions(r){return!!r.options?.some(t=>Ve.includes(t.type))}productHasActivePrice(r){return Array.isArray(r.prices)&&!!r.prices?.some(t=>t.active)}isProductAvailable(r){if(r.inStock){let t=r.selectedCombination||r;if(typeof t.quantity>"u"||t.quantity)return!0}return!1}getProductForAddToCart(r,t){let i={...r};if(i&&t&&(i.selectedOptions={...t},Array.isArray(i.combinations))){let a=i.combinations.find(o=>o.options.every(s=>t[s.name]===s.value));a&&(i.selectedCombination={...a})}return i}initFrontendLibrary(r){if(!this.libraryAdded&&r?.ecwid?.serviceData){let t=document.createElement("script"),i=`https://app.ecwid.com/script.js?${r.ecwid.serviceData.storeId}&data_platform=code`;t.setAttribute("async","async"),t.setAttribute("charset","utf-8"),t.setAttribute("src",i),document?.body?.appendChild(t),this.libraryAdded=!0}}getFormattedProductToAddToCart(r,t){let i={...r},a=ee(),o={id:i.id.toString(),name:i.name,nameTranslated:i.nameTranslated[a]||i.name,image:i.images?.[0],price:i.price,currency:i.currency};if(typeof i.quantity=="number"&&(o.quantity=i.quantity),t&&Object.keys(t).length){o.options={...t};let s=i.price;if(Array.isArray(i.combinations)){let n=i.combinations.find(c=>c.options.every(l=>t[l.name]===l.value));n&&(n.price&&(s=n.price),n.thumbnailUrl&&(o.image=n.thumbnailUrl),typeof n.quantity=="number"?o.quantity=n.quantity:o.quantity&&delete o.quantity)}if(i.options){for(let n in t){let c=i.options.find(u=>u.name===n),l=c?c.choices.find(u=>u.text===t[n]):null;l&&l.priceModifier&&(l.priceModifierType==="ABSOLUTE"?s+=l.priceModifier:l.priceModifierType==="PERCENT"&&(s+=s*Number((l.priceModifier/100).toFixed(2))))}o.optionsTranslated=Object.fromEntries(Object.entries(o.options).map(([n,c])=>{let l=i.options?.find(f=>f.name===n);if(!l)return[n,c];let u=Y(l);return[u.translatedName,u.translatedValues[c]]}))}s&&s!==o.price&&(o.price=s)}return o}waitEcwidPopupClose(r){let i=".ecwid-popup",a=setInterval(()=>{document.querySelector(i)||(clearInterval(a),r())},500)}goToCheckout({items:r,callbacks:t}){let{onOpen:i,onPlaced:a,onClose:o}=t||{},s=window?.Ecwid;if(!s){console.error("No ecwid global library");return}s.init(),s.Cart.clear();let n=Object.keys(r).length,c=[];for(let l in r){let u={id:Number(r[l].id),quantity:r[l].cartQuantity,callback:f=>{f&&c.push(l),n===c.length&&(s.Cart.gotoCheckout(),i&&i(),o&&this.waitEcwidPopupClose(o),s.OnOrderPlaced.add(()=>{a&&a()}))}};r[l].options&&(u.options=r[l].options),s.Cart.addProduct(u)}}}});var X=h(x=>{"use strict";function ae(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Me(e,r,t){}function Xe(e,r,t){}var je=/javascript\s*\:/img;function ze(e,r){return je.test(r)?"":r}x.whiteList=ae();x.getDefaultWhiteList=ae;x.onAttr=Me;x.onIgnoreAttr=Xe;x.safeAttrValue=ze});var j=h((jt,oe)=>{"use strict";oe.exports={indexOf:function(e,r){var t,i;if(Array.prototype.indexOf)return e.indexOf(r);for(t=0,i=e.length;t<i;t++)if(e[t]===r)return t;return-1},forEach:function(e,r,t){var i,a;if(Array.prototype.forEach)return e.forEach(r,t);for(i=0,a=e.length;i<a;i++)r.call(t,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}});var le=h((zt,se)=>{"use strict";var C=j();function $e(e,r){e=C.trimRight(e),e[e.length-1]!==";"&&(e+=";");var t=e.length,i=!1,a=0,o=0,s="";function n(){if(!i){var u=C.trim(e.slice(a,o)),f=u.indexOf(":");if(f!==-1){var m=C.trim(u.slice(0,f)),p=C.trim(u.slice(f+1));if(m){var b=r(a,s.length,m,p,u);b&&(s+=b+"; ")}}}a=o+1}for(;o<t;o++){var c=e[o];if(c==="/"&&e[o+1]==="*"){var l=e.indexOf("*/",o+2);if(l===-1)break;o=l+1,a=o+1,i=!1}else c==="("?i=!0:c===")"?i=!1:c===";"?i||n():c===`
`&&n()}return C.trim(s)}se.exports=$e});var de=h((Ht,fe)=>{"use strict";var O=X(),He=le(),$t=j();function ue(e){return e==null}function Qe(e){var r={};for(var t in e)r[t]=e[t];return r}function ce(e){e=Qe(e||{}),e.whiteList=e.whiteList||O.whiteList,e.onAttr=e.onAttr||O.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||O.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||O.safeAttrValue,this.options=e}ce.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var r=this,t=r.options,i=t.whiteList,a=t.onAttr,o=t.onIgnoreAttr,s=t.safeAttrValue,n=He(e,function(c,l,u,f,m){var p=i[u],b=!1;if(p===!0?b=p:typeof p=="function"?b=p(f):p instanceof RegExp&&(b=p.test(f)),b!==!0&&(b=!1),f=s(u,f),!!f){var y={position:l,sourcePosition:c,source:m,isWhite:b};if(b){var g=a(u,f,y);return ue(g)?u+":"+f:g}else{var g=o(u,f,y);if(!ue(g))return g}}});return n};fe.exports=ce});var R=h((L,$)=>{"use strict";var pe=X(),ge=de();function Ke(e,r){var t=new ge(r);return t.process(e)}L=$.exports=Ke;L.FilterCSS=ge;for(z in pe)L[z]=pe[z];var z;typeof window<"u"&&(window.filterCSS=$.exports)});var q=h((Qt,me)=>{"use strict";me.exports={indexOf:function(e,r){var t,i;if(Array.prototype.indexOf)return e.indexOf(r);for(t=0,i=e.length;t<i;t++)if(e[t]===r)return t;return-1},forEach:function(e,r,t){var i,a;if(Array.prototype.forEach)return e.forEach(r,t);for(i=0,a=e.length;i<a;i++)r.call(t,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var r=/\s|\n|\t/,t=r.exec(e);return t?t.index:-1}}});var H=h(d=>{"use strict";var Ze=R().FilterCSS,Je=R().getDefaultWhiteList,N=q();function ve(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var he=new Ze;function Ye(e,r,t){}function et(e,r,t){}function tt(e,r,t){}function rt(e,r,t){}function we(e){return e.replace(nt,"&lt;").replace(at,"&gt;")}function it(e,r,t,i){if(t=Ee(t),r==="href"||r==="src"){if(t=N.trim(t),t==="#")return"#";if(!(t.substr(0,7)==="http://"||t.substr(0,8)==="https://"||t.substr(0,7)==="mailto:"||t.substr(0,4)==="tel:"||t.substr(0,11)==="data:image/"||t.substr(0,6)==="ftp://"||t.substr(0,2)==="./"||t.substr(0,3)==="../"||t[0]==="#"||t[0]==="/"))return""}else if(r==="background"){if(D.lastIndex=0,D.test(t))return""}else if(r==="style"){if(be.lastIndex=0,be.test(t)||(ye.lastIndex=0,ye.test(t)&&(D.lastIndex=0,D.test(t))))return"";i!==!1&&(i=i||he,t=i.process(t))}return t=_e(t),t}var nt=/</g,at=/>/g,ot=/"/g,st=/&quot;/g,lt=/&#([a-zA-Z0-9]*);?/gim,ut=/&colon;?/gim,ct=/&newline;?/gim,D=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,be=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,ye=/u\s*r\s*l\s*\(.*/gi;function Se(e){return e.replace(ot,"&quot;")}function Ae(e){return e.replace(st,'"')}function Te(e){return e.replace(lt,function(t,i){return i[0]==="x"||i[0]==="X"?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))})}function Pe(e){return e.replace(ut,":").replace(ct," ")}function xe(e){for(var r="",t=0,i=e.length;t<i;t++)r+=e.charCodeAt(t)<32?" ":e.charAt(t);return N.trim(r)}function Ee(e){return e=Ae(e),e=Te(e),e=Pe(e),e=xe(e),e}function _e(e){return e=Se(e),e=we(e),e}function ft(){return""}function dt(e,r){typeof r!="function"&&(r=function(){});var t=!Array.isArray(e);function i(s){return t?!0:N.indexOf(e,s)!==-1}var a=[],o=!1;return{onIgnoreTag:function(s,n,c){if(i(s))if(c.isClosing){var l="[/removed]",u=c.position+l.length;return a.push([o!==!1?o:c.position,u]),o=!1,l}else return o||(o=c.position),"[removed]";else return r(s,n,c)},remove:function(s){var n="",c=0;return N.forEach(a,function(l){n+=s.slice(c,l[0]),c=l[1]}),n+=s.slice(c),n}}}function pt(e){return e.replace(gt,"")}var gt=/<!--[\s\S]*?-->/g;function mt(e){var r=e.split("");return r=r.filter(function(t){var i=t.charCodeAt(0);return i===127?!1:i<=31?i===10||i===13:!0}),r.join("")}d.whiteList=ve();d.getDefaultWhiteList=ve;d.onTag=Ye;d.onIgnoreTag=et;d.onTagAttr=tt;d.onIgnoreTagAttr=rt;d.safeAttrValue=it;d.escapeHtml=we;d.escapeQuote=Se;d.unescapeQuote=Ae;d.escapeHtmlEntities=Te;d.escapeDangerHtml5Entities=Pe;d.clearNonPrintableCharacter=xe;d.friendlyAttrValue=Ee;d.escapeAttrValue=_e;d.onIgnoreTagStripAll=ft;d.StripTagBody=dt;d.stripCommentTag=pt;d.stripBlankChar=mt;d.cssFilter=he;d.getDefaultCSSWhiteList=Je});var K=h(Q=>{"use strict";var w=q();function bt(e){var r=w.spaceIndex(e);if(r===-1)var t=e.slice(1,-1);else var t=e.slice(1,r+1);return t=w.trim(t).toLowerCase(),t.slice(0,1)==="/"&&(t=t.slice(1)),t.slice(-1)==="/"&&(t=t.slice(0,-1)),t}function yt(e){return e.slice(0,2)==="</"}function vt(e,r,t){"use strict";var i="",a=0,o=!1,s=!1,n=0,c=e.length,l="",u="";e:for(n=0;n<c;n++){var f=e.charAt(n);if(o===!1){if(f==="<"){o=n;continue}}else if(s===!1){if(f==="<"){i+=t(e.slice(a,n)),o=n,a=n;continue}if(f===">"){i+=t(e.slice(a,o)),u=e.slice(o,n+1),l=bt(u),i+=r(o,i.length,l,u,yt(u)),a=n+1,o=!1;continue}if(f==='"'||f==="'")for(var m=1,p=e.charAt(n-m);p===" "||p==="=";){if(p==="="){s=f;continue e}p=e.charAt(n-++m)}}else if(f===s){s=!1;continue}}return a<e.length&&(i+=t(e.substr(a))),i}var ht=/[^a-zA-Z0-9_:\.\-]/gim;function wt(e,r){"use strict";var t=0,i=[],a=!1,o=e.length;function s(f,m){if(f=w.trim(f),f=f.replace(ht,"").toLowerCase(),!(f.length<1)){var p=r(f,m||"");p&&i.push(p)}}for(var n=0;n<o;n++){var c=e.charAt(n),l,u;if(a===!1&&c==="="){a=e.slice(t,n),t=n+1;continue}if(a!==!1&&n===t&&(c==='"'||c==="'")&&e.charAt(n-1)==="="){if(u=e.indexOf(c,n+1),u===-1)break;l=w.trim(e.slice(t+1,u)),s(a,l),a=!1,n=u,t=n+1;continue}if(/\s|\n|\t/.test(c))if(e=e.replace(/\s|\n|\t/g," "),a===!1)if(u=St(e,n),u===-1){l=w.trim(e.slice(t,n)),s(l),a=!1,t=n+1;continue}else{n=u-1;continue}else if(u=At(e,n-1),u===-1){l=w.trim(e.slice(t,n)),l=ke(l),s(a,l),a=!1,t=n+1;continue}else continue}return t<e.length&&(a===!1?s(e.slice(t)):s(a,ke(w.trim(e.slice(t))))),w.trim(i.join(" "))}function St(e,r){for(;r<e.length;r++){var t=e[r];if(t!==" ")return t==="="?r:-1}}function At(e,r){for(;r>0;r--){var t=e[r];if(t!==" ")return t==="="?r:-1}}function Tt(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function ke(e){return Tt(e)?e.substr(1,e.length-2):e}Q.parseTag=vt;Q.parseAttr=wt});var Le=h((Jt,Oe)=>{"use strict";var Pt=R().FilterCSS,v=H(),Ce=K(),xt=Ce.parseTag,Et=Ce.parseAttr,F=q();function G(e){return e==null}function _t(e){var r=F.spaceIndex(e);if(r===-1)return{html:"",closing:e[e.length-2]==="/"};e=F.trim(e.slice(r+1,-1));var t=e[e.length-1]==="/";return t&&(e=F.trim(e.slice(0,-1))),{html:e,closing:t}}function kt(e){var r={};for(var t in e)r[t]=e[t];return r}function Ie(e){e=kt(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=v.onIgnoreTagStripAll),e.whiteList=e.whiteList||v.whiteList,e.onTag=e.onTag||v.onTag,e.onTagAttr=e.onTagAttr||v.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||v.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||v.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||v.safeAttrValue,e.escapeHtml=e.escapeHtml||v.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Pt(e.css))}Ie.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var r=this,t=r.options,i=t.whiteList,a=t.onTag,o=t.onIgnoreTag,s=t.onTagAttr,n=t.onIgnoreTagAttr,c=t.safeAttrValue,l=t.escapeHtml,u=r.cssFilter;t.stripBlankChar&&(e=v.stripBlankChar(e)),t.allowCommentTag||(e=v.stripCommentTag(e));var f=!1;if(t.stripIgnoreTagBody){var f=v.StripTagBody(t.stripIgnoreTagBody,o);o=f.onIgnoreTag}var m=xt(e,function(p,b,y,g,Ge){var I={sourcePosition:p,position:b,isClosing:Ge,isWhite:i.hasOwnProperty(y)},_=a(y,g,I);if(!G(_))return _;if(I.isWhite){if(I.isClosing)return"</"+y+">";var Z=_t(g),Fe=i[y],J=Et(Z.html,function(T,P){var U=F.indexOf(Fe,T)!==-1,k=s(y,T,P,U);if(!G(k))return k;if(U)return P=c(y,T,P,u),P?T+'="'+P+'"':T;var k=n(y,T,P,U);return G(k)?void 0:k}),g="<"+y;return J&&(g+=" "+J),Z.closing&&(g+=" /"),g+=">",g}else{var _=o(y,g,I);return G(_)?l(g):_}},l);return f&&(m=f.remove(m)),m};Oe.exports=Ie});var It=h((E,W)=>{"use strict";var Re=H(),qe=K(),De=Le();function Ne(e,r){var t=new De(r);return t.process(e)}E=W.exports=Ne;E.filterXSS=Ne;E.FilterXSS=De;for(A in Re)E[A]=Re[A];var A;for(A in qe)E[A]=qe[A];var A;typeof window<"u"&&(window.filterXSS=W.exports);function Ct(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}Ct()&&(self.filterXSS=W.exports)});export{te as a,Rt as b,qt as c,Dt as d,re as e,Nt as f,ne as g,Ve as h,M as i,Be as j,It as k};
